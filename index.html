<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Neural Gin Rummy by rickgorman</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Neural Gin Rummy</h1>
        <h2>&#39;cause why not!</h2>
        <a href="https://github.com/rickgorman/neural" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h3>
<a id="welcome-to-neural-gin-rummy" class="anchor" href="#welcome-to-neural-gin-rummy" aria-hidden="true"><span class="octicon octicon-link"></span></a>Welcome to Neural Gin Rummy:</h3>

<p>For almost two decades, I've had a dream of dabbling with genetic algorithms and just never seemed to have the time to make it happen. One day I realized, life's too short to not dabble with genetic algorithms, and so this project was born. This is my first decent-sized foray into the python landscape and so far I'm loving it. I hope you have some fun as well!</p>

<p>The simulation is a python-based player-free Gin Rummy game. The strategy is evolved via neuralevolution. Test code and a sample playground.py is provided, along with a ~40000 generation persistence file.</p>

<p>Use it and abuse it!</p>

<hr>

<p>To run this code, you'll need to install the following modules:</p>

<ul>
<li>pylru</li>
<li>texttable</li>
</ul>

<hr>

<p>To get started, open a console and run:</p>

<p><code>python playground.py</code></p>

<p>This will launch the algorithm. You may want to observe the output -- this can be done in a second console window like so:</p>

<p><code>tail -f playground_check_intelligence.persist.txt</code></p>

<p>You can kill the script with Ctrl-C, which will trigger persistence handling and save the current generation to disk to be loaded again at next startup. As coded, it will then run a couple of games with the two best strategies and display the turn-by-turn output.</p>

<hr>

<p>Additional per-generation fitness history is logged to the file:</p>

<ul>
<li>playground_check_intelligence.persist.txt.tally</li>
</ul>

<p>Format is: generation,%skill win rate,score</p>

<p>You can download and use <a href="http://www.live-graph.org/">http://www.live-graph.org/</a> to watch the fitness output in real-time.</p>

<h3>
<a id="brief-overview" class="anchor" href="#brief-overview" aria-hidden="true"><span class="octicon octicon-link"></span></a>Brief Overview</h3>

<p>The majority of work is done in the GinMatch class, called as part of the fitness test. This class pits two players against each other in a "match" of gin rummy. Technically, a match is a number of games played until one player has 100 points, at which point the match is over and final scoring occurs. In this simulation (as of this writing), the population has not evolved sufficiently to play a full match. Presently, a match consists of a single game.</p>

<h2>
<a id="ranking-function-and-output" class="anchor" href="#ranking-function-and-output" aria-hidden="true"><span class="octicon octicon-link"></span></a>Ranking Function and Output</h2>

<p>The (as of this writing) ranking function looks at the percentage of games won WITHOUT a coinflip. In the case that a deck runs out or the players take too many moves, we use a coinflip to end the game. Games ending in coinflips are not useful for our long-term goal of developing a strong AI, so we don't include them in the ranking function.</p>

<p>The output for each generation looks something like this:</p>

<pre><code>                 LEADERBOARD FOR GENERATION #47182  (population: 16
+-----------------------------------------------------------------------------------------------------------+
|  ranking      skill       score       skill     coinflip      game        match       match        age    |
|             game win                game wins   game wins    losses       wins       losses               |
|             rate (%)                                                                                      |
+===========================================================================================================+
| 1           0.357       0.333       5           1           9           6           9           0         |
| 2           0.556       0.333       5           6           4           11          4           0         |
| 3           0.385       0.333       5           2           8           7           8           0         |
| ...                                                                                                       |
+-----------------------------------------------------------------------------------------------------------+
</code></pre>

<p>Columns are explained as:</p>

<ul>
<li>ranking</li>
<li>skill game win rate (%): this is how often a strategy wins WITHOUT a coinflip</li>
<li>score: basically skill game win rate averaged by age</li>
<li>skill game wins: number of games won without a coinflip</li>
<li>game losses</li>
<li>match wins: currently matches are 1 game long, so this is mostly filler for later</li>
<li>match losses: same</li>
<li>age</li>
</ul>

<h3>
<a id="unimplemented-features" class="anchor" href="#unimplemented-features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Unimplemented Features:</h3>

<ul>
<li>When a player knocks falsely, his hand should be exposed to the other player. -- not implemented</li>
<li>The cull() function kills all individuals except the ones we're mating for the next generation. It should instead retain the top N individuals. -- not implemented</li>
<li>Multithreading (4-8x speedup potential) -- not implemented</li>
<li>Smarter initial weights (100-1000x speedup potential) -- not implemented</li>
<li>Let the InputPerceptrons pull data from Observables, rather than Observables pushing data to Observers on each change (5% speedup potential) -- not implemented</li>
<li>Faster key generation for memoized() (5-10% speedup) -- not implemented</li>
</ul>

<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p>All content licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a>. Improve and Share!</p>

<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Drop me a note at <a href="http://www.reddit.com/user/rickthegrower/">/u/rickthegrower</a></p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/rickgorman/neural/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/rickgorman/neural/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/rickgorman/neural"></a> is maintained by <a href="https://github.com/rickgorman">rickgorman</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
